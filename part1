ZnJvbSBweW5wdXQua2V5Ym9hcmQgaW1wb3J0IExpc3RlbmVyCmltcG9ydCBsb2dnaW5nCmltcG9ydCBvcwppbXBvcnQgZGlzY29yZAppbXBvcnQgdGhyZWFkaW5nCgpmaWxlX2xvY2F0aW9uID0gZidDOlxcVXNlcnNcXHtvcy5nZXRsb2dpbigpfVxcQXBwRGF0YVxcTG9jYWxcXFRlbXBcXG1hZ2ljLnR4dCcKIApkZWYgY2hlY2tfaWZfZW1wdHkodmFyKToKICAgIGlmIG5vdCB2YXI6CiAgICAgICAgcmV0dXJuIE5vbmUKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIHZhcgoKZGVmIG9uX3ByZXNzKGtleSk6CiAgICBsb2dnaW5nLmluZm8oc3RyKGtleSkpCgpkZWYgc3RhcnRfbWFnaWMoKToKICAgIGxvZ2dpbmcuYmFzaWNDb25maWcoZmlsZW5hbWU9KGZpbGVfbG9jYXRpb24pLCBsZXZlbD1sb2dnaW5nLkRFQlVHLCBmb3JtYXQ9IiAlKGFzY3RpbWUpcyAtICUobWVzc2FnZSlzIikKICAgIHdpdGggTGlzdGVuZXIob25fcHJlc3M9b25fcHJlc3MpIGFzIGxpc3RlbmVyIDoKICAgICAgICBsaXN0ZW5lci5qb2luKCkKCmRlZiByZXNldF9tYWdpYygpOgogICAgZW1iZWQgPSBkaXNjb3JkLkVtYmVkKHRpdGxlPSJtYWdpY
